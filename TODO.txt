* catch all exceptions on top level
* fix tests
